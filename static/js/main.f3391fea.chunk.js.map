{"version":3,"sources":["input-components/instructions.js","input-components/csvpreview.js","processing/processor.js","input-components/uploader.js","input-components/sdfilter.js","input-components/filtercutoff.js","input-components/lookdistance.js","input-components/tableheaders.js","input-components/analysiscolumn.js","input-components/negativeonly.js","output-components/visualizer.js","output-components/results.js","output-components/filestats.js","output-components/zoombuttons.js","input-components/errormsg.js","input-components/about.js","App.js","serviceWorker.js","index.js"],"names":["InstructionsGuide","props","toggleClass","bind","state","active","currentState","this","setState","style","textAlign","className","aria-haspopup","onClick","id","role","float","React","Component","CsvPreview","csvData","length","slice","map","row","index","key","col","cindex","Processor","SDmode","filterCutoff","filterLower","filterHigher","lookDistance","ignoredRows","analysisColumn","cleanData","removedRows","push","_isOutlier","emptyRow","isNaN","parseInt","cleanedCsvData","delRowNums","currentVal","neighbouringVals","firstComparisonPoint","lastComparisonPoint","isOutlier","pos","currentDifference","mean","std","columns","graphData","colorsList","defaultColorsList","endPoint","dataPoints","xPoint","x","y","parseFloat","currentLine","_getColName","data","getCleanedDataPoints","tenthPoint","Math","round","axisBottomTickValues","colors","includes","originalLength","encounteredLastVal","isLastVal","val","rowVals","pop","forEach","column","title","Uploader","beginCallback","innerCSVData","newdata","newCsvData","removeTrailingEmpties","callback","cssClass","onFileLoaded","SDFilter","event","target","value","type","marginRight","checked","onChange","marginLeft","FilterCutoff","mode","min","step","default","placeholder","LookDistance","TableHeaders","AnalysisColumn","max","maxColumns","NegativeOnly","lowerDefault","higherDefault","beginHigherCallback","beginLowerCallback","bool","Visualizer","toGraphData","maxWidth","height","overflow","width","graphWidth","enableGridX","margin","left","bottom","right","top","axisLeft","orient","legend","legendPosition","legendOffset","axisBottom","tickValues","legends","anchor","direction","translateX","translateY","itemWidth","itemHeight","Results","isProcessing","FileStats","droppedRowCount","ZoomButtons","disabled","path","mdiMagnifyMinusOutline","size","mdiMagnifyPlusOutline","ErrorMsg","errorMsg","mdiAlert","color","About","href","App","toggleProcessingData","changeGraphSize","loadNegativeOnly","loadNewData","loadSDmode","loadFilterCutoff","loadLookDistance","loadIgnoredRows","loadAnalysisColumn","prevProps","prevState","snapshot","results","colOfInterest","e","newWidth","higherOrLower","isEnabled","paddingLeft","marginTop","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f3391fea.chunk.js","sourcesContent":["import React from 'react';\n\n\nclass InstructionsGuide extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleClass = this.toggleClass.bind(this);\n        this.state = {\n            active: false,\n        };\n    }\n\n    toggleClass() {\n        const currentState = this.state.active;\n        this.setState({ active: !currentState });\n    }\n\n    render() {\n        return (\n            <div>\n                <div style={{textAlign: 'left'}} className={this.state.active ? \"dropdown is-active\" : \"dropdown\"}>\n                    <div className=\"dropdown-trigger\">\n                        <button className=\"button is-text\" aria-haspopup=\"true\" onClick={this.toggleClass}>\n                            <span>Instructions</span>\n                        </button>\n                    </div>\n                    <div className=\"dropdown-menu\" id=\"dropdown-instructions\" role=\"menu\">\n                        <div className=\"dropdown-content\">\n                            <div className=\"dropdown-item\">\n                                <p>\n                                    <button className=\"delete\" onClick={this.toggleClass} style={{ float: 'right' }}>Hide</button>\n                                    Upload a \".csv\" file with any number of columns. Specify which column to analyze.\n                                    Data in that column that is an outlier relative to its peers will be\n                                    deleted (along with all numbers in that row).\n                                </p>\n                            </div>\n                            <hr className=\"dropdown-divider\" />\n                            <div className=\"dropdown-item\"> \n                                <b>Standard Deviation Mode </b><label className=\"tag\">suggested</label>\n                                <p>Compares the current data point to the specified amount of values ahead/behind (exclusive of this current point). If \n                                    the point is more than the specified cutoff value different from the unbiased standard deviation, the row will be removed.</p>\n                            </div>\n                            <div className=\"dropdown-item\"> \n                                <b>Absolute Mode </b>\n                                <p>Compares the current data point to the mean of the of values ahead/behind, if it is a static difference away, will be deleted.\"</p>\n                            </div>\n                            <hr className=\"dropdown-divider\" />\n                            <div className=\"dropdown-item\">\n                                <p>The program also lets you choose if dropouts can be lower (negative) compared to the average\n                                    of the compared period, or higher, or both. This is useful if your sensor when reporting\n                                    erroneous values, does so in one consistent direction. \n                                </p>\n                                <p>\n                                    <b>First/Last values</b>: If the program is unable to \"look\" the specified amount of cells\n                                    behind or ahead of the current value, it will attempt to do so with the values that do exist\n                                    within the current look range. (It will not attempt to look further \"ahead\" if there are not\n                                    enough values \"behind\", however)\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default InstructionsGuide;","import React from 'react';\n\nclass CsvPreview extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleClass = this.toggleClass.bind(this);\n        // keep track of current state\n        this.state = {\n            active: false,\n        };\n    }\n\n    toggleClass() {\n        const currentState = this.state.active;\n        this.setState({ active: !currentState });\n    }\n\n    // Pass \"csvData\" to this component\n    render() {\n        // @TODO: add logic here to hide when file not chosen\n        if (this.props.csvData.length === 0 || !this.props.csvData) {\n            return (<div></div>)\n        }\n        return (\n            <div>\n                <div className={this.state.active ? \"dropdown is-active is-pulled-right\" : \"dropdown is-pulled-right\"}>\n                    <div className=\"dropdown-trigger\">\n                        <button className=\"button is-small is-text\" aria-haspopup=\"true\" onClick={this.toggleClass}>\n                            <span>Preview</span>\n                        </button>\n                    </div>\n                    <div className=\"dropdown-menu\" id=\"dropdown-instructions\" role=\"menu\">\n                        <div className=\"dropdown-content\">\n                            <div className=\"dropdown-item\">\n                            <button className=\"delete\" onClick={this.toggleClass} style={{ float: 'right' }}>Hide</button>\n                                <table className=\"table is-striped is-narrow is-bordered\">\n                                    <tbody>\n                                        {this.props.csvData.slice(0, 6).map((row, index) => (\n                                            <tr key={row + index}>\n                                                {row.map((col, cindex) => (\n                                                    <td key={cindex}>{col}</td>\n                                                ))}\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n\n}\n\n\n\nexport default CsvPreview;","import { std, mean } from 'mathjs'\n/**\n *  Data Processor Code\n *  - Created by Adam Mesa (Krassioukov Lab, Faculty of Medicine, \n *      The University of British Columbia, BC, Canada)\n *  - this simple algorithm takes in the user's settings/csvData and returns an \n *      array of row numbers to be dropped from the given csv data, as well as a\n *      new array which has said numbers dropped.\n **/\nclass Processor {\n    // Cleans the given csvData according to the passed variables and returns a map of: \n    // (1) cleanedCsvData, (2) array of dropped rows\n    static cleanData(\n        csvData,\n        SDmode,\n        filterCutoff,\n        filterLower,\n        filterHigher,\n        lookDistance,\n        ignoredRows,\n        analysisColumn) {\n        let cleanData = [];\n        let removedRows = [];\n        // Push header columns onto CSV\n        for (let row = 0; row < ignoredRows; row++) { cleanData.push(csvData[row]); }\n        // Begin filtering the data\n        for (let row = ignoredRows; row < csvData.length; row++) {\n            if (this._isOutlier(row, csvData, SDmode, filterCutoff, filterLower,\n                filterHigher, lookDistance, ignoredRows, analysisColumn)) {\n                let emptyRow = [];\n                for (let col = 0; col < csvData[row].length; col++) {\n                    // Push empty values corresponding to amount of rows in original dataset\n                    if (isNaN(parseInt(csvData[row][col]))) {\n                        // looks like col contained text, don't delete\n                        emptyRow.push(csvData[row][col]);\n                    } else {\n                        emptyRow.push(null);\n                    }\n                }\n                cleanData.push(emptyRow);\n                removedRows.push(row);\n            } else {\n                cleanData.push(csvData[row]);\n            }\n        }\n        return { cleanedCsvData: cleanData, delRowNums: removedRows };\n    }\n\n    /*****\n     * Checks if a value is an outlier compared to the neighbouring values \n     *\n     * returns true if the value is an outlier, otherwise false\n     * */\n    static _isOutlier(row, csvData, SDmode, filterCutoff, filterLower, filterHigher, lookDistance, ignoredRows, analysisColumn) {\n        let neighbouringVals = [];\n        let firstComparisonPoint = row - lookDistance;\n        let lastComparisonPoint = row + lookDistance;\n        let isOutlier = false;\n        let currentVal;\n        \n        if (firstComparisonPoint < ignoredRows) {\n            // Values \"behind\" of the current point aren't enough for lookDistance, so process current point as best possible\n            firstComparisonPoint = ignoredRows;\n        } else if (lastComparisonPoint > (csvData.length - 1)) {\n            // Values \"ahead\" of the current point aren't enough for lookDistance, so process current point as best possible\n            lastComparisonPoint = (csvData.length - 1); \n        }\n        for (let pos = firstComparisonPoint; pos < lastComparisonPoint; pos++) {\n            if(pos === row) { \n                currentVal = csvData[pos][analysisColumn];\n            } else {\n                neighbouringVals.push(csvData[pos][analysisColumn]);\n            }\n        }\n        /**\n         * Dropout logic\n         */\n        let average = mean(neighbouringVals);\n        let currentDifference = currentVal - average;\n        // Is current value lower than its peers and are we filtering lower?\n        if (currentDifference < 0 && filterLower) {\n            if (SDmode) {\n                let stdeviation = std(neighbouringVals);\n                isOutlier = currentDifference < (-stdeviation * filterCutoff);\n            } else {\n                isOutlier = currentDifference < (-filterCutoff);\n            }\n        } else \n        // Is current value higher than its peers and are we filtering higher?\n        if (currentDifference > 0 && filterHigher) {\n            if (SDmode) {\n                let stdeviation = std(neighbouringVals);\n                isOutlier = currentDifference > (stdeviation * filterCutoff);\n            } else {\n                isOutlier = currentDifference > (filterCutoff);\n            }\n        }\n        return isOutlier;\n    }\n\n    // Prepares are Nivo-ready dataset from (original) csvData, delrows, and\n    //    new cleanedCsvData, with ignoredRows becoming the title of each dataset\n    //    Returns a map of:\n    //    { data: LineData, axisBottomTickValues: tickValues, colours: colour scheme }\n    static toGraphData(\n        csvData,\n        cleanedCsvData,\n        ignoredRows,\n        analysisColumn,\n        delRowNums) {\n        let columns = csvData[0].length;\n        let graphData = [];\n        let colorsList = [];\n        let defaultColorsList = [\"#b3e2cd\", \"#fdcdac\", \"#f4cae4\", \"#fff2ae\", \"#f1e2cc\"]\n        let endPoint = 0;\n        for (let col = 0; col < columns; col++) {\n            let dataPoints = [];\n            let xPoint = 1;\n            for (let row = ignoredRows; row < csvData.length; row++) {\n                // Must first check that row val is a number, otherwise don't push\n                if (!isNaN(parseInt(csvData[row][col]))) {\n                    dataPoints.push({\n                        x: xPoint,\n                        y: parseFloat(csvData[row][col])\n                    });\n                    if (xPoint > endPoint) {\n                        // Used in axis tick calculations\n                        endPoint = xPoint;\n                    }\n                }\n                xPoint++;\n            }\n            let currentLine;\n            if (analysisColumn === col) {\n                /// Sets a light blue colour so the pruned dataset can be darker and stand out\n                currentLine = {\n                    id: this._getColName(csvData, col, ignoredRows),\n                    data: dataPoints\n                }\n                colorsList.push(\"hsl(204, 100%, 85%\");\n            } else {\n                currentLine = {\n                    id: this._getColName(csvData, col, ignoredRows),\n                    data: dataPoints\n                };\n                // use a pastel colour\n                colorsList.push(defaultColorsList[col % defaultColorsList.length]);\n            }\n            graphData.push(currentLine);\n        }\n        if (cleanedCsvData.length > 0) {\n            let dataPoints = Processor.getCleanedDataPoints(ignoredRows, cleanedCsvData, delRowNums, analysisColumn);\n\n            graphData.push({\n                id: this._getColName(cleanedCsvData, analysisColumn, ignoredRows) + ' dropped',\n                data: dataPoints\n            });\n            colorsList.push(\"hsl(204, 100%, 50%)\");\n        }\n        let tenthPoint = Math.round(endPoint / 10);\n        let tickVals = [1, tenthPoint,\n            tenthPoint * 2,\n            tenthPoint * 3,\n            tenthPoint * 4,\n            tenthPoint * 5,\n            tenthPoint * 6,\n            tenthPoint * 7,\n            tenthPoint * 8,\n            tenthPoint * 9,\n            endPoint\n        ];\n\n        return { data: graphData, axisBottomTickValues: tickVals, colors: colorsList };\n    }\n\n    /***\n     *  Helper function to get plottable datapoints of the desired line from the\n     *  clean data set.\n     **/\n    static getCleanedDataPoints(ignoredRows, cleanedCsvData, delRowNums, analysisColumn) {\n        let dataPoints = [];\n        let xPoint = 1;\n        for (let row = ignoredRows; row < cleanedCsvData.length; row++) {\n            if (delRowNums.includes(row)) {\n                dataPoints.push({ x: xPoint, y: null });\n            }\n            else {\n                if (!isNaN(parseInt(cleanedCsvData[row][analysisColumn]))) {\n                    dataPoints.push({ x: xPoint, y: cleanedCsvData[row][analysisColumn] });\n                }\n            }\n            xPoint++;\n        }\n        return dataPoints;\n    }\n\n    // Returns an csv matrix with all empty trailing rows removed\n    static removeTrailingEmpties(csvData) {\n        let originalLength = csvData.length\n        let encounteredLastVal = false;\n        // Declaring this func outside of for loop avoids 'no-loop-func' error\n        function isLastVal(val) {\n            if (!isNaN(parseInt(val))) {\n                encounteredLastVal = true;\n            }\n        }\n\n        for (let row = 0; row < originalLength; row++) {\n            if (!encounteredLastVal) {\n                let rowVals = csvData.pop();\n                rowVals.forEach((val) => isLastVal(val));\n                if (encounteredLastVal) {\n                    csvData.push(rowVals);\n                    row = row + csvData.length; // shortcut to end pointless looping\n                }\n            }\n        }\n        return csvData;\n    }\n\n\n\n    // Combines the contents of the ignored rows to form a column title\n    static _getColName(csvData, column, ignoredRows) {\n        let title = '';\n        for (let row = 0; row < ignoredRows; row++) {\n            title = title + csvData[row][column] + ' ';\n        }\n        return title;\n    }\n\n    /** Chart Data\n     * Array<{\n     *   id:   string | number\n     *   color: hsl(int, %, %)     (optional)\n     *   data: Array<{\n     *     x: number | string | Date\n     *     y: number | string | Date\n     *   }>\n     * }>\n     */\n}\n\nexport default Processor;","import React from 'react';\nimport CSVReader from 'react-csv-reader';\nimport CsvPreview from './csvpreview';\nimport Processor from '../processing/processor';\n\nclass Uploader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.beginCallback = this.beginCallback.bind(this);\n        this.state = {\n            innerCSVData: []\n        }\n    }\n\n    beginCallback(newdata) {\n        /// Removes trailing rows from the uploaded file as well (CSVs commonly have hundreds of empty rows)\n        let newCsvData = Processor.removeTrailingEmpties(newdata);\n        this.setState({ innerCSVData: newCsvData });\n        this.props.callback(newCsvData);\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"pad-item-bottom\">\n                    <div className=\"columns\">\n                        <div className=\"column\">\n                            {/* <CSVReader onFileLoaded={data => console.log(data)} /> */}\n                            <CSVReader\n                                cssClass=\"control\"\n                                onFileLoaded={data => this.beginCallback(data)}\n                            />\n                        </div>\n                        <div className=\"column\">\n                            <CsvPreview csvData={this.state.innerCSVData} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Uploader;","import React from 'react';\n\n// Expects a prop called \"callback\" which takes true (Standard deviation mode) or false (absolute units)\nclass SDFilter extends React.Component {\n    constructor(props) {\n        super(props);\n        this.beginCallback = this.beginCallback.bind(this);\n        this.state = {\n            SDmode: true\n        }\n    }\n\n    beginCallback(event) {\n        if (event.target.value === \"SDmode\") {\n            this.setState({ SDmode: true });\n            this.props.callback(true);\n        } else {\n            this.setState({ SDmode: false });\n            this.props.callback(false);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"field pad-item-bottom\">\n                    <label>Filtering mode:</label>\n                    <div className=\"control\">\n                        <label className=\"radio\">\n                            <input\n                                type=\"radio\"\n                                value=\"SDmode\"\n                                style={{ marginRight: '5px' }}\n                                checked={this.state.SDmode}\n                                onChange={this.beginCallback}\n                            />\n                            Standard Deviation\n                    </label>\n                        <label className=\"radio\">\n                            <input\n                                type=\"radio\"\n                                value=\"absolute\"\n                                style={{ marginRight: '5px', marginLeft: '25px' }}\n                                checked={!this.state.SDmode}\n                                onChange={this.beginCallback}\n                            />\n                            &nbsp;Absolute \n                    </label>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default SDFilter;","import React from 'react';\n\n// props:\n// - \"callback\" which takes a number (of the cutoff value range)\n// - \"default\" (optional) which takes the starting number\n\nclass FilterCutoff extends React.Component {\n    render() {\n        return (\n            <div className=\"field\">\n                <label>Cutoff {this.props.mode ? 'deviation' : 'difference' }:</label>\n                <div className=\"control\">\n                    <input \n                    className=\"input\" \n                    type=\"number\" \n                    onChange={this.props.callback} \n                    min=\"0\"\n                    step={this.props.mode ? '0.1' : '2'}\n                    value={this.props.default}\n                    placeholder=\"(A S.D. cutoff of 1.5 is recommended)\" />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default FilterCutoff;","import React from 'react';\n\n// Expects props:\n// - \"callback\" which takes an integer\n// - \"default\" (optional) which takes the starting number\n// Specifies how many values ahead (and behind) to calculate if the current value is an outlier\n\nclass LookDistance extends React.Component {\n    render() {\n        return (\n            <div className=\"field\">\n                <label>Compare {this.props.default} ahead &amp; behind</label>\n                <div className=\"control\">\n                    <input \n                    className=\"input\" \n                    type=\"number\" \n                    onChange={this.props.callback} \n                    min=\"1\"\n                    step=\"1\"\n                    value={this.props.default}\n                    placeholder=\"(Integers only)\" />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LookDistance;","import React from 'react';\n\n// Expects props:\n// - \"callback\" which takes an integer\n// - \"default\" (optional) which takes the starting number\n// Specifies how many rows from the top are tables / should be ignored\n\nclass TableHeaders extends React.Component {\n    render() {\n        return (\n            <div className=\"field\">\n                <label className=\"tag is-white\">Header rows</label>\n                <div className=\"control\">\n                    <input \n                    className=\"input is-small\" \n                    type=\"number\" \n                    onChange={this.props.callback} \n                    min=\"0\"\n                    step=\"1\"\n                    value={this.props.default}\n                    placeholder=\"(Integers only)\" />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TableHeaders;","import React from 'react';\n\n// Expects props:\n// - \"callback\" which takes an integer\n// - \"default\" (optional) which takes the starting number\n// Specifies which column to analyze \n\nclass AnalysisColumn extends React.Component {\n    render() {\n        return (\n            <div className=\"field\">\n                <label className=\"tag is-white\">Column to analyze</label>\n                <div className=\"control\">\n                    <input \n                    className=\"input is-small\" \n                    type=\"number\" \n                    onChange={this.props.callback} \n                    min=\"1\"\n                    max={this.props.maxColumns}\n                    step=\"1\"\n                    value={this.props.default + 1}\n                    placeholder=\"(Integers only)\" />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AnalysisColumn;","import React from 'react';\n\n// Expects props:\n// - \"callback\" which takes a toggle function(value, lower/higher)\n// - \"lowerDefault\"\n// - \"higherDefault\"\n// Specifies whether or not to only drop numbers that are standard deviation/absolute amt lower/higher than the surrounding\n//   values \n\nclass NegativeOnly extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filterLower: this.props.lowerDefault,\n            filterHigher: this.props.higherDefault\n        }\n        this.beginHigherCallback = this.beginHigherCallback.bind(this);\n        this.beginLowerCallback = this.beginLowerCallback.bind(this);\n    }\n\n    beginHigherCallback(event) {\n        const bool = !this.state.filterHigher;\n        this.setState({ filterHigher: bool });\n        this.props.callback(bool, 'higher');\n    }\n\n    beginLowerCallback(event) {\n        const bool = !this.state.filterLower;\n        this.setState({ filterLower: bool });\n        this.props.callback(bool, 'lower');\n    }\n\n    render() {\n        return (\n            <div className=\"field\">\n                <label>Dropouts are:</label>\n                <label style={{marginLeft: '10px'}}className=\"checkbox\">\n                    <input checked={this.state.filterLower} onChange={this.beginLowerCallback} type=\"checkbox\" />&nbsp;\n                    Lower\n                </label>\n                <label style={{marginLeft: '10px'}} className=\"checkbox\">\n                    <input checked={this.state.filterHigher} onChange={this.beginHigherCallback} type=\"checkbox\" />&nbsp;\n                    Higher\n                </label>\n            </div>\n        )\n    }\n}\n\nexport default NegativeOnly;","import React from 'react';\nimport { ResponsiveLineCanvas } from '@nivo/line'\nimport Processor from '../processing/processor';\n/**\n *  See Nivo docs for more information: https://nivo.rocks/line/\n *  - will transform each column into a dataset/line\n *  Props expected:\n *  - graphWidth, csvData cleanedCsvData, ignoredRows, delRowNums\n **/\nclass Visualizer extends React.Component {\n    render() {\n        let graphData = Processor.toGraphData(\n            this.props.csvData,\n            this.props.cleanedCsvData,\n            this.props.ignoredRows,\n            this.props.analysisColumn,\n            this.props.delRowNums);\n        return (\n            <div style={{ maxWidth: '700px', height: '630px', overflow: 'auto' }}>\n                <div style={{\n                    height: '600px',\n                    width: this.props.graphWidth,\n                }}>\n                    <ResponsiveLineCanvas\n                        data={graphData.data}\n                        enableGridX={false}\n                        margin={{ left: 60, bottom: 50, right: 50, top: 50 }}\n                        axisLeft={{\n                            orient: 'left',\n                            legend: 'Value',\n                            legendPosition: 'middle',\n                            legendOffset: -40\n                        }}\n                        colors={[...graphData.colors]}\n                        axisBottom={{\n                            orient: 'bottom',\n                            legend: 'Reading #',\n                            legendPosition: 'start',\n                            legendOffset: 40,\n                            tickValues: [...graphData.axisBottomTickValues]\n                        }}\n                        legends={[{\n                            anchor: 'bottom-left',\n                            direction: 'row',\n                            translateX: 100,\n                            translateY: 50,\n                            itemWidth: (80 * this.props.ignoredRows),\n                            itemHeight: 20\n                        }]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Visualizer;","import React from 'react';\nimport Visualizer from './visualizer';\n\n// Props expected:\n// - all state vars in app.js (csvData, SDmode, filterCutoff...)\n// - callback function for when data is finished processing\nclass Results extends React.Component {\n    render() {\n        if (this.props.csvData.length > 0 && this.props.isProcessing) {\n            return (\n                <div style={{ height: '100%' }}>\n                    <Visualizer\n                        csvData={this.props.csvData}\n                        cleanedCsvData={this.props.cleanedCsvData}\n                        ignoredRows={this.props.ignoredRows}\n                        analysisColumn={this.props.analysisColumn}\n                        delRowNums={this.props.delRowNums}\n                        graphWidth={this.props.graphWidth}\n                    />\n                </div>\n            );\n        } else {\n            return (<div></div>);\n        }\n\n    }\n}\n\nexport default Results;","import React from 'react';\nimport { CSVLink } from 'react-csv';\n\nclass FileStats extends React.Component {\n    render() {\n        if (this.props.isProcessing) {\n            let droppedRowCount = this.props.delRowNums.length;\n            return (\n                <div className=\"box dropout-stats has-background-link has-text-white\">\n                    <div className=\"columns\">\n                        <div className=\"column\">\n                            <p className=\"is-size-4\">\n                                {this.props.csvData.length}\n                            </p>\n                            <p className=\"is-size-7\">\n                                Total Rows\n                            </p>\n                        </div>\n                        <div className=\"column\">\n                        <p className=\"is-size-4\">\n                                {droppedRowCount}\n                            </p>\n                            <p className=\"is-size-7\">\n                                Rows Dropped\n                            </p>\n                        </div>\n                        <div className=\"column\">\n                            <button className=\"button is-light is-pulled-right\">\n                                <CSVLink data={this.props.cleanedCsvData}>Download</CSVLink>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            return (<div></div>);\n        }\n\n    }\n}\n\nexport default FileStats;","import React, { Component } from 'react';\nimport Icon from '@mdi/react';\nimport { mdiMagnifyPlusOutline, mdiMagnifyMinusOutline } from '@mdi/js';\n\n/** \n * Creates the zoom in / zoom out buttons for the graph. Props expected:\n *  - isProcessing (decides whether or not to include the buttons)\n *  - callback (updates graph width)\n *  - graphWidth (current graph width, used for disabling when too small)\n */\nclass ZoomButtons extends Component {\n    render() {\n        if (this.props.isProcessing) {\n            return (\n                <div className=\"is-pulled-right\">\n                    <button\n                        className=\"button is-white\"\n                        disabled={this.props.graphWidth < 701}\n                        onClick={() => this.props.callback('-')}\n                    >\n                        <Icon path={mdiMagnifyMinusOutline} size={1} />\n                    </button>\n                    &nbsp;\n                    <button\n                        className=\"button is-white\"\n                        onClick={() => this.props.callback('+')}\n                    >\n                        <Icon path={mdiMagnifyPlusOutline} size={1} />\n                    </button>\n                    &nbsp;\n                </div>\n            );\n        } else {\n            return (<div></div>);\n        }\n\n    }\n}\n\nexport default ZoomButtons;","import React, { Component } from 'react';\nimport Icon from '@mdi/react';\nimport { mdiAlert } from '@mdi/js';\n\nclass ErrorMsg extends Component {\n    render() {\n        if (this.props.errorMsg === '') {\n            return (<div></div>);\n        } else {\n            return (\n            <div className='tag is-warning is-light'>\n                <Icon path={mdiAlert} size={0.5} color={'#947600'} />&nbsp;{this.props.errorMsg}\n            </div>\n            );\n        }\n    }\n}\n\nexport default ErrorMsg;","import React from 'react';\n\n\nclass About extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleClass = this.toggleClass.bind(this);\n        this.state = {\n            active: false,\n        };\n    }\n\n    toggleClass() {\n        const currentState = this.state.active;\n        this.setState({ active: !currentState });\n    }\n\n    render() {\n        return (\n            <div>\n                <div style={{textAlign: 'left'}} className={this.state.active ? \"dropdown is-active\" : \"dropdown\"}>\n                    <div className=\"dropdown-trigger\">\n                        <button className=\"button is-text\" aria-haspopup=\"true\" onClick={this.toggleClass}>\n                            <span>about & security</span>\n                        </button>\n                    </div>\n                    <div className=\"dropdown-menu\" id=\"dropdown-instructions\" role=\"menu\">\n                        <div className=\"dropdown-content\">\n                            <div className=\"dropdown-item\">\n                                <p>\n                                    <button className=\"delete\" onClick={this.toggleClass} style={{ float: 'right' }}>Hide</button>\n                                    This tool was created by Adam Mesa in Krassioukov Lab (Autonomic Research Unit, ICORD, University of British\n                                    Columbia, BC, Canada). It was made to help with physiologic devices re-calibrating mid-reading that would\n                                    report values far below expected before returning to the expected/consensus readings of our other devices.<br/>\n                                </p>\n                            </div>\n                            <hr className=\"dropdown-divider\" />\n                            <div className=\"dropdown-item\">\n                                <p>\n                                    <b>Security</b><br />\n                                    This tool is offline-only: all processing happens on your computer (via JavaScript). Nothing is sent to any\n                                    external servers.\n                                </p>\n                            </div>\n                            <hr className=\"dropdown-divider\" />\n                            <div className=\"dropdown-item\"> \n                                <b>Versions </b>\n                                <label className=\"tag\">Current: v1.1</label>&nbsp;\n                                <a className=\"tag is-link\" href=\"https://github.com/adammesa/dropout-remover\" target=\"_blank\">\n                                    Source Code &#8594;\n                                </a>\n                                <p>\n                                    <ul>\n                                        <li>v1.0.1 - June 2020; Bugfixes, minor usability improvements</li>\n                                        <li>v1.0 - March 2020; Initial Release</li>\n                                    </ul>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default About;","import React from 'react';\nimport './App.css';\nimport { mean } from 'mathjs';\nimport InstructionsGuide from './input-components/instructions';\nimport Uploader from './input-components/uploader';\nimport SDFilter from './input-components/sdfilter';\nimport FilterCutoff from './input-components/filtercutoff';\nimport LookDistance from './input-components/lookdistance';\nimport TableHeaders from './input-components/tableheaders';\nimport AnalysisColumn from './input-components/analysiscolumn';\nimport NegativeOnly from './input-components/negativeonly';\nimport Results from './output-components/results';\nimport FileStats from './output-components/filestats';\nimport ZoomButtons from './output-components/zoombuttons';\nimport Processor from './processing/processor.js';\nimport ErrorMsg from './input-components/errormsg';\nimport About from './input-components/about';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      csvData: [],\n      cleanedCsvData: [],\n      SDmode: true,\n      filterCutoff: 1.5,\n      filterLower: true,\n      filterHigher: false,\n      lookDistance: 5,\n      ignoredRows: 1,\n      analysisColumn: 0,\n      isProcessing: false,\n      delRowNums: [],\n      graphWidth: 700,\n      errorMsg: '',\n    }\n\n    this.toggleProcessingData = this.toggleProcessingData.bind(this);\n    this.changeGraphSize = this.changeGraphSize.bind(this);\n    this.loadNegativeOnly = this.loadNegativeOnly.bind(this);\n    this.loadNewData = this.loadNewData.bind(this);\n    this.loadSDmode = this.loadSDmode.bind(this);\n    this.loadFilterCutoff = this.loadFilterCutoff.bind(this);\n    this.loadLookDistance = this.loadLookDistance.bind(this);\n    this.loadIgnoredRows = this.loadIgnoredRows.bind(this);\n    this.loadAnalysisColumn = this.loadAnalysisColumn.bind(this);\n  }\n\n  // Trigger data processing\n  toggleProcessingData() {\n    this.setState({ isProcessing: !this.state.isProcessing });\n  }\n\n  // Calls the analysis function if any of the filter settings have been changed,\n  // or, if processing is disabled, checks to make sure that valid #'s are supplied\n  // - without checking, the analysis function would in-turn update cleanedCsvData \n  //   and delRowNums, causing an infinite loop. \n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.isProcessing) {\n      if (prevState.csvData !== this.state.csvData\n        || prevState.isProcessing !== this.state.isProcessing\n        || prevState.SDmode !== this.state.SDmode\n        || prevState.lookDistance !== this.state.lookDistance\n        || prevState.analysisColumn !== this.state.analysisColumn\n        || prevState.ignoredRows !== this.state.ignoredRows\n        || prevState.filterCutoff !== this.state.filterCutoff\n        || prevState.filterLower !== this.state.filterLower\n        || prevState.filterHigher !== this.state.filterHigher) {\n        let results = Processor.cleanData(this.state.csvData, this.state.SDmode, this.state.filterCutoff,\n          this.state.filterLower, this.state.filterHigher, parseInt(this.state.lookDistance), this.state.ignoredRows,\n          this.state.analysisColumn);\n        this.setState({ cleanedCsvData: results.cleanedCsvData, delRowNums: results.delRowNums });\n      } else {\n      }\n    } else {\n      if(prevState.csvData !== this.state.csvData\n        || prevState.analysisColumn !== this.state.analysisColumn\n        || prevState.ignoredRows !== this.state.ignoredRows) {\n          if(this.state.csvData.length > 0\n            && this.state.ignoredRows !== ''\n            && this.state.analysisColumn !== -1) {\n            let colOfInterest = [];\n            for (let row = this.state.ignoredRows; row < this.state.csvData.length; row++) {\n              colOfInterest.push(this.state.csvData[row][this.state.analysisColumn]);\n            }\n            try {\n              mean(colOfInterest);\n              this.setState({errorMsg: ''});\n            } catch(e) {\n              this.setState({errorMsg: 'Only numbers can be analyzed'});\n            }\n          }\n        }\n    }\n  }\n\n  // Callback for resizing the visualizer chart (takes '+' or any other value will decrease width)\n  changeGraphSize(direction) {\n    let newWidth;\n    if (direction === '+') {\n      newWidth = this.state.graphWidth + 200;\n    } else {\n      newWidth = this.state.graphWidth - 200;\n    }\n    this.setState({ graphWidth: newWidth });\n  }\n\n  // Callback for filtering lower/higher values only\n  loadNegativeOnly(value, higherOrLower) {\n    if (higherOrLower === 'lower') {\n      this.setState({ filterLower: value });\n    } else {\n      this.setState({ filterHigher: value });\n    }\n  }\n\n  // Callback for updating analysis column\n  loadAnalysisColumn(event) {\n    this.setState({ analysisColumn: (event.target.value - 1) });\n  }\n\n\n  // Callback for updating the amount of row to ignore\n  loadIgnoredRows(event) {\n    this.setState({ ignoredRows: event.target.value });\n  }\n\n  // Callback for bringing up the selected file's csv data \n  loadNewData(newdata) {\n    this.setState({ csvData: newdata });\n  }\n\n  // Callback for enabling/disabling standard deviation mode.\n  loadSDmode(isEnabled) {\n    this.setState({ SDmode: isEnabled });\n  }\n\n  // Callback for updating the filter cutoff input\n  loadFilterCutoff(event) {\n    this.setState({ filterCutoff: parseFloat(event.target.value) });\n  }\n\n  // Callback for updating the look distance\n  loadLookDistance(event) {\n    this.setState({ lookDistance: parseInt(event.target.value) });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <p><About /></p>\n        </header>\n        <div className=\"app-body\" style={{ paddingLeft: '25px' }}>\n          {/* Left-hand Column - draw input/settings here! */}\n          <div className=\"columns\">\n            <div className=\"column is-two-fifths max-450-px\">\n              <div\n                className={this.state.isProcessing ? 'box dropout-controls isProcessing is-clearfix' : 'box dropout-controls is-clearfix'} >\n                <div className=\"columns\">\n                  <div className=\"column\">\n                    <h2 style={{ marginTop: '5px' }} className=\"title is-4\">Dropout remover</h2>\n                  </div>\n                  <div className=\"column is-two-fifths\" style={{ textAlign: 'right' }}>\n                    <InstructionsGuide />\n                  </div>\n                </div>\n                <p>Load .csv file:</p>\n                <Uploader callback={this.loadNewData} />\n                <div className=\"columns\">\n                  <div className=\"column\">\n                    <TableHeaders callback={this.loadIgnoredRows} default={this.state.ignoredRows} />\n                  </div>\n                  <div className=\"column\">\n                    <AnalysisColumn\n                      callback={this.loadAnalysisColumn}\n                      maxColumns={this.state.csvData.length === 0 ? '1' : this.state.csvData[0].length}\n                      default={this.state.analysisColumn}\n                    />\n                  </div>\n                </div>\n                <label className=\"label\">Filter Settings</label>\n                <SDFilter callback={this.loadSDmode} />\n                <div className=\"columns\">\n                  <div className=\"column is-two-fifths\">\n                    <FilterCutoff\n                      callback={this.loadFilterCutoff}\n                      default={this.state.filterCutoff}\n                      mode={this.state.SDmode}\n                    />\n                  </div>\n                  <div className=\"column\">\n                    <LookDistance callback={this.loadLookDistance} default={this.state.lookDistance} />\n                  </div>\n                </div>\n                <div className=\"columns\">\n                  <div className=\"column\">\n                    <NegativeOnly\n                      callback={this.loadNegativeOnly}\n                      lowerDefault={this.state.filterLower}\n                      higherDefault={this.state.filterHigher}\n                    />\n                  </div>\n                </div>\n                <ErrorMsg errorMsg={this.state.errorMsg} />\n                <button\n                  className=\"button is-link is-light is-pulled-right\"\n                  disabled={this.state.csvData.length === 0 || this.state.errorMsg !== ''}\n                  onClick={this.toggleProcessingData}\n                >\n                  {this.state.isProcessing ? 'Auto-processing' : 'Process'}\n                </button>\n                <ZoomButtons\n                  graphWidth={this.state.graphWidth}\n                  callback={this.changeGraphSize}\n                  isProcessing={this.state.isProcessing} />\n              </div>\n              <FileStats\n                {...this.state}\n              />\n            </div>\n\n            <div className=\"column\">\n              {/* Right-hand Column - draw graphs here!*/}\n              <Results {...this.state} />\n            </div>\n          </div>\n        </div>\n      </div >\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log(\"Env public URL: \" + process.env.PUBLIC_URL + \" window location: \" + window.location.href);\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  } \n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        console.log(\"No service worker found.\");\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}